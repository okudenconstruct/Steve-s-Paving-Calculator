<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steve's Paving Calculator - HeavyBid Calibrated</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #111827;
            color: #ffffff;
            min-height: 100vh;
            padding: 1.5rem;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .button-group {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.25rem;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        
        .btn-primary {
            background-color: #3b82f6;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2563eb;
        }
        
        .btn-danger {
            background-color: #ef4444;
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #dc2626;
        }
        
        .title {
            text-align: center;
            font-size: 1.25rem;
            font-weight: 700;
            margin: 0.5rem 0 1.5rem 0;
            text-decoration: underline;
        }
        
        .subtitle {
            text-align: center;
            font-size: 0.9rem;
            color: #60a5fa;
            margin-bottom: 1.5rem;
            font-style: italic;
        }
        
        .grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        @media (min-width: 768px) {
            .grid {
                grid-template-columns: repeat(6, 1fr);
            }
        }
        
        .input-section {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            background-color: #1f2937;
            border-radius: 0.5rem;
            padding: 1rem;
            border: 1px solid #374151;
        }

        .output-section {
            background-color: #1f2937;
            border-radius: 0.5rem;
            padding: 1rem;
            border: 1px solid #374151;
        }
        
        .section-title {
            font-weight: 700;
            margin-bottom: 0.5rem;
            font-size: 1rem;
            text-decoration: underline;
        }
        
        .text-red { color: #f87171; }
        .text-yellow { color: #facc15; }
        .text-pink { color: #f472b6; }
        .text-blue { color: #60a5fa; }
        .text-green { color: #4ade80; }
        
        label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.25rem;
            font-size: 0.875rem;
        }
        
        input, select {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 0.25rem;
            background-color: white;
            color: black;
            font-size: 0.875rem;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 1px #3b82f6;
        }
        
        .output-section p {
            margin-bottom: 0.25rem;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="button-group">
            <button class="btn btn-primary" onclick="calculate()">Calculate</button>
            <button class="btn btn-danger" onclick="resetForm()">Reset Form</button>
        </div>

        <div class="title">Steve's Paving Calculator</div>
        <div class="subtitle">Calibrated to Match HeavyBid Professional Estimating Software</div>

        <div class="grid">
            <!-- Surface Input -->
            <div class="input-section">
                <h3 class="section-title text-green">9.5mm64 Surface Input</h3>
                <label>Area (SY)</label>
                <input type="number" id="surfaceArea" placeholder="Enter area in SY">
                <label>Depth (in)</label>
                <input type="number" id="surfaceDepth" placeholder="Enter depth in inches">
                <label>Complete Cycle Time (min)</label>
                <small style="color: #9ca3af; font-size: 0.75rem; display: block; margin-bottom: 0.25rem;">Include travel both ways plus loading/unloading time</small>
                <input type="number" id="surfaceTravelTime" placeholder="Enter total cycle time">
                <label>SY/day</label>
                <select id="surfaceRate">
                    <option value="0">--Select Surface Rate--</option>
                    <option value="1000">1000</option>
                    <option value="1500">1500</option>
                    <option value="2000">2000</option>
                    <option value="2500">2500</option>
                    <option value="3000">3000</option>
                    <option value="3500">3500</option>
                    <option value="4000">4000</option>
                    <option value="4500">4500</option>
                    <option value="5000">5000</option>
                    <option value="5500">5500</option>
                    <option value="6000">6000</option>
                    <option value="6500">6500</option>
                    <option value="7000">7000</option>
                    <option value="7500">7500</option>
                    <option value="8000">8000</option>
                </select>
            </div>

            <!-- Base Input -->
            <div class="input-section">
                <h3 class="section-title text-blue">19mm64 Base Input</h3>
                <label>Area (SY)</label>
                <input type="number" id="baseArea" placeholder="Enter area in SY">
                <label>Depth (in)</label>
                <input type="number" id="baseDepth" placeholder="Enter depth in inches">
                <label>Complete Cycle Time (min)</label>
                <small style="color: #9ca3af; font-size: 0.75rem; display: block; margin-bottom: 0.25rem;">Include travel both ways plus loading/unloading time</small>
                <input type="number" id="baseTravelTime" placeholder="Enter total cycle time">
                <label>SY/day</label>
                <select id="baseRate">
                    <option value="0">--Select Base Rate--</option>
                    <option value="1000">1000</option>
                    <option value="1500">1500</option>
                    <option value="2000">2000</option>
                    <option value="2500">2500</option>
                    <option value="3000">3000</option>
                    <option value="3500">3500</option>
                    <option value="4000">4000</option>
                    <option value="4500">4500</option>
                    <option value="5000">5000</option>
                    <option value="5500">5500</option>
                    <option value="6000">6000</option>
                    <option value="6500">6500</option>
                    <option value="7000">7000</option>
                    <option value="7500">7500</option>
                    <option value="8000">8000</option>
                </select>
            </div>

            <!-- Milling Input -->
            <div class="input-section">
                <h3 class="section-title text-pink">Milling Input</h3>
                <label>Area (SY)</label>
                <input type="number" id="millingArea" placeholder="Enter area in SY">
                <label>Depth (in)</label>
                <input type="number" id="millingDepth" placeholder="Enter depth in inches">
                <label>Complete Cycle Time (min)</label>
                <small style="color: #9ca3af; font-size: 0.75rem; display: block; margin-bottom: 0.25rem;">Include travel both ways plus loading/unloading time</small>
                <input type="number" id="millingTravelTime" placeholder="Enter total cycle time">
                <label>SY/day</label>
                <select id="millingRate">
                    <option value="0">--Select Milling Rate--</option>
                    <option value="1000">1000</option>
                    <option value="1500">1500</option>
                    <option value="2000">2000</option>
                    <option value="2500">2500</option>
                    <option value="3000">3000</option>
                    <option value="3500">3500</option>
                    <option value="4000">4000</option>
                    <option value="4500">4500</option>
                    <option value="5000">5000</option>
                    <option value="5500">5500</option>
                    <option value="6000">6000</option>
                    <option value="6500">6500</option>
                    <option value="7000">7000</option>
                    <option value="7500">7500</option>
                    <option value="8000">8000</option>
                </select>
            </div>

            <!-- DGA Input -->
            <div class="input-section">
                <h3 class="section-title text-yellow">DGA Input</h3>
                <label>Area (SY)</label>
                <input type="number" id="dgaArea" placeholder="Enter area in SY">
                <label>Depth (in)</label>
                <input type="number" id="dgaDepth" placeholder="Enter depth in inches">
                <label>Complete Cycle Time (min)</label>
                <small style="color: #9ca3af; font-size: 0.75rem; display: block; margin-bottom: 0.25rem;">Include travel both ways plus loading/unloading time</small>
                <input type="number" id="dgaTravelTime" placeholder="Enter total cycle time">
                <label>CY/day</label>
                <select id="dgaRate">
                    <option value="0">--Select DGA Rate--</option>
                    <option value="100">100</option>
                    <option value="200">200</option>
                    <option value="300">300</option>
                    <option value="400">400</option>
                    <option value="500">500</option>
                    <option value="600">600</option>
                    <option value="700">700</option>
                    <option value="800">800</option>
                </select>
            </div>

            <!-- Fine Grading Input -->
            <div class="input-section">
                <h3 class="section-title text-purple" style="color: #a855f7;">Fine Grading/Compacting Input</h3>
                <label>Area (SY)</label>
                <input type="number" id="fineGradingArea" placeholder="Enter area in SY">
                <small style="color: #9ca3af; font-size: 0.75rem; display: block; margin-bottom: 0.25rem;">Subgrade preparation between excavation and DGA placement</small>
                <label>SY/day</label>
                <select id="fineGradingRate">
                    <option value="0">--Select Fine Grading Rate--</option>
                    <option value="2000">2000</option>
                    <option value="2500">2500</option>
                    <option value="3000">3000</option>
                    <option value="3500">3500</option>
                    <option value="4000">4000</option>
                    <option value="4500">4500</option>
                    <option value="5000">5000</option>
                </select>
            </div>

            <!-- Excavation Input -->
            <div class="input-section">
                <h3 class="section-title text-red">Excavation Input</h3>
                <label>Area (SY)</label>
                <input type="number" id="excavationArea" placeholder="Enter area in SY">
                <label>Depth (in)</label>
                <input type="number" id="excavationDepth" placeholder="Enter depth in inches">
                <label>Complete Cycle Time (min)</label>
                <small style="color: #9ca3af; font-size: 0.75rem; display: block; margin-bottom: 0.25rem;">Include travel both ways plus loading/unloading time</small>
                <input type="number" id="excavationTravelTime" placeholder="Enter total cycle time">
                <label>CY/day</label>
                <select id="excavationRate">
                    <option value="0">--Select Excavation Rate--</option>
                    <option value="100">100</option>
                    <option value="200">200</option>
                    <option value="300">300</option>
                    <option value="400">400</option>
                    <option value="500">500</option>
                    <option value="600">600</option>
                    <option value="700">700</option>
                    <option value="800">800</option>
                </select>
            </div>
        </div>

        <div class="grid">
            <!-- Surface Output -->
            <div class="output-section">
                <h3 class="section-title text-green">9.5mm64 Surface Output</h3>
                <p>Tons: <span id="surfaceTons">0</span></p>
                <p>Days: <span id="surfaceDays">0</span></p>
                <p>Truck Hours: <span id="surfaceTruckHours">0</span></p>
                <p>Trucks Required: <span id="surfaceTrucks">0</span></p>
            </div>

            <!-- Base Output -->
            <div class="output-section">
                <h3 class="section-title text-blue">19mm64 Base Output</h3>
                <p>Tons: <span id="baseTons">0</span></p>
                <p>Days: <span id="baseDays">0</span></p>
                <p>Truck Hours: <span id="baseTruckHours">0</span></p>
                <p>Trucks Required: <span id="baseTrucks">0</span></p>
            </div>

            <!-- Milling Output -->
            <div class="output-section">
                <h3 class="section-title text-pink">Milling Output</h3>
                <p>Tons: <span id="millingTons">0</span></p>
                <p>Days: <span id="millingDays">0</span></p>
                <p>Truck Hours: <span id="millingTruckHours">0</span></p>
                <p>Trucks Required: <span id="millingTrucks">0</span></p>
            </div>

            <!-- DGA Output -->
            <div class="output-section">
                <h3 class="section-title text-yellow">DGA Output</h3>
                <p>Volume: <span id="dgaVolume">0</span> CY</p>
                <p>Tons: <span id="dgaTons">0</span></p>
                <p>Days: <span id="dgaDays">0</span></p>
                <p>Truck Hours: <span id="dgaTruckHours">0</span></p>
                <p>Trucks Required: <span id="dgaTrucks">0</span></p>
            </div>

            <!-- Fine Grading Output -->
            <div class="output-section">
                <h3 class="section-title text-purple" style="color: #a855f7;">Fine Grading/Compacting Output</h3>
                <p>Days: <span id="fineGradingDays">0</span></p>
                <small style="color: #9ca3af; font-size: 0.75rem;">No trucking calculations - equipment managed in Heavybid</small>
            </div>

            <!-- Excavation Output -->
            <div class="output-section">
                <h3 class="section-title text-red">Excavation Output</h3>
                <p>Volume: <span id="excavationVolume">0</span> CY</p>
                <p>Tons: <span id="excavationTons">0</span></p>
                <p>Days: <span id="excavationDays">0</span></p>
                <p>Truck Hours: <span id="excavationTruckHours">0</span></p>
                <p>Trucks Required: <span id="excavationTrucks">0</span></p>
            </div>
        </div>
    </div>

    <script>
        function roundUp(val, increment) {
            return Math.ceil(val / increment) * increment;
        }

        function calculate() {
            console.log('Calculate function called!');
            
            // Get Surface inputs
            const surfaceArea = parseFloat(document.getElementById('surfaceArea').value) || 0;
            const surfaceDepth = parseFloat(document.getElementById('surfaceDepth').value) || 0;
            const surfaceTravelTime = parseFloat(document.getElementById('surfaceTravelTime').value) || 0;
            const surfaceRate = parseFloat(document.getElementById('surfaceRate').value) || 0;
            
            console.log('Surface Area:', surfaceArea, 'Surface Depth:', surfaceDepth);

            // Surface calculations - UPDATED FACTOR 0.08271
            const surfaceTons = surfaceArea && surfaceDepth ? roundUp(surfaceArea * surfaceDepth * 0.08271, 1) : 0;
            const surfaceDays = surfaceArea && surfaceRate ? Math.ceil(surfaceArea / surfaceRate * 2) / 2 : 0;
            const surfaceDailyTons = surfaceDays > 0 ? surfaceTons / surfaceDays : 0;
            const surfaceLoadsPerDay = surfaceDailyTons / 22;
            const surfaceTrucks = surfaceLoadsPerDay && surfaceTravelTime ? Math.ceil((surfaceLoadsPerDay * surfaceTravelTime) / 480) : 0;
            const surfaceTruckHours = surfaceTrucks * surfaceDays * 8;

            console.log('Surface Tons:', surfaceTons);

            // Get Base inputs
            const baseArea = parseFloat(document.getElementById('baseArea').value) || 0;
            const baseDepth = parseFloat(document.getElementById('baseDepth').value) || 0;
            const baseTravelTime = parseFloat(document.getElementById('baseTravelTime').value) || 0;
            const baseRate = parseFloat(document.getElementById('baseRate').value) || 0;

            // Base calculations
            const baseTons = baseArea && baseDepth ? roundUp(baseArea * baseDepth * 0.0575, 1) : 0;
            const baseDays = baseArea && baseRate ? Math.ceil(baseArea / baseRate * 2) / 2 : 0;
            const baseDailyTons = baseDays > 0 ? baseTons / baseDays : 0;
            const baseLoadsPerDay = baseDailyTons / 22;
            const baseTrucks = baseLoadsPerDay && baseTravelTime ? Math.ceil((baseLoadsPerDay * baseTravelTime) / 480) : 0;
            const baseTruckHours = baseTrucks * baseDays * 8;

            // Get other inputs
            const millingArea = parseFloat(document.getElementById('millingArea').value) || 0;
            const millingDepth = parseFloat(document.getElementById('millingDepth').value) || 0;
            const millingTravelTime = parseFloat(document.getElementById('millingTravelTime').value) || 0;
            const millingRate = parseFloat(document.getElementById('millingRate').value) || 0;

            const dgaArea = parseFloat(document.getElementById('dgaArea').value) || 0;
            const dgaDepth = parseFloat(document.getElementById('dgaDepth').value) || 0;
            const dgaTravelTime = parseFloat(document.getElementById('dgaTravelTime').value) || 0;
            const dgaRate = parseFloat(document.getElementById('dgaRate').value) || 0;

            const fineGradingArea = parseFloat(document.getElementById('fineGradingArea').value) || 0;
            const fineGradingRate = parseFloat(document.getElementById('fineGradingRate').value) || 0;

            const excavationArea = parseFloat(document.getElementById('excavationArea').value) || 0;
            const excavationDepth = parseFloat(document.getElementById('excavationDepth').value) || 0;
            const excavationTravelTime = parseFloat(document.getElementById('excavationTravelTime').value) || 0;
            const excavationRate = parseFloat(document.getElementById('excavationRate').value) || 0;

            // Other calculations
            const millingTons = millingArea && millingDepth ? roundUp(millingArea * millingDepth * 0.0494, 1) : 0;
            const millingDays = millingArea && millingRate ? Math.ceil(millingArea / millingRate * 2) / 2 : 0;
            const millingDailyTons = millingDays > 0 ? millingTons / millingDays : 0;
            const millingLoadsPerDay = millingDailyTons / 22;
            const millingTrucks = millingLoadsPerDay && millingTravelTime ? Math.ceil((millingLoadsPerDay * millingTravelTime) / 480) : 0;
            const millingTruckHours = millingTrucks * millingDays * 8;

            const dgaVolume = dgaArea && dgaDepth ? roundUp(dgaArea * dgaDepth / 324, 1) : 0;
            const dgaTons = dgaVolume > 0 ? roundUp(dgaVolume * 1.9, 1) : 0;
            const dgaDays = dgaVolume && dgaRate ? Math.ceil(dgaVolume / dgaRate * 2) / 2 : 0;
            const dgaDailyVolume = dgaDays > 0 ? dgaVolume / dgaDays : 0;
            const dgaLoadsPerDay = dgaDailyVolume / 16;
            const dgaTrucks = dgaLoadsPerDay && dgaTravelTime ? Math.ceil((dgaLoadsPerDay * dgaTravelTime) / 480) : 0;
            const dgaTruckHours = dgaTrucks * dgaDays * 8;

            const fineGradingDays = fineGradingArea && fineGradingRate ? Math.ceil(fineGradingArea / fineGradingRate * 2) / 2 : 0;

            const excavationVolume = excavationArea && excavationDepth ? roundUp(excavationArea * excavationDepth / 324, 1) : 0;
            const excavationTons = excavationVolume > 0 ? roundUp(excavationVolume * 1.5, 1) : 0;
            const excavationDays = excavationVolume && excavationRate ? Math.ceil(excavationVolume / excavationRate * 2) / 2 : 0;
            const excavationDailyVolume = excavationDays > 0 ? excavationVolume / excavationDays : 0;
            const excavationLoadsPerDay = excavationDailyVolume / 16;
            const excavationTrucks = excavationLoadsPerDay && excavationTravelTime ? Math.ceil((excavationLoadsPerDay * excavationTravelTime) / 480) : 0;
            const excavationTruckHours = excavationTrucks * excavationDays * 8;

            // Update all outputs
            document.getElementById('surfaceTons').textContent = surfaceTons;
            document.getElementById('surfaceDays').textContent = surfaceDays;
            document.getElementById('surfaceTruckHours').textContent = surfaceTruckHours;
            document.getElementById('surfaceTrucks').textContent = surfaceTrucks;

            document.getElementById('baseTons').textContent = baseTons;
            document.getElementById('baseDays').textContent = baseDays;
            document.getElementById('baseTruckHours').textContent = baseTruckHours;
            document.getElementById('baseTrucks').textContent = baseTrucks;

            document.getElementById('millingTons').textContent = millingTons;
            document.getElementById('millingDays').textContent = millingDays;
            document.getElementById('millingTruckHours').textContent = millingTruckHours;
            document.getElementById('millingTrucks').textContent = millingTrucks;

            document.getElementById('dgaVolume').textContent = dgaVolume;
            document.getElementById('dgaTons').textContent = dgaTons;
            document.getElementById('dgaDays').textContent = dgaDays;
            document.getElementById('dgaTruckHours').textContent = dgaTruckHours;
            document.getElementById('dgaTrucks').textContent = dgaTrucks;

            document.getElementById('fineGradingDays').textContent = fineGradingDays;

            document.getElementById('excavationVolume').textContent = excavationVolume;
            document.getElementById('excavationTons').textContent = excavationTons;
            document.getElementById('excavationDays').textContent = excavationDays;
            document.getElementById('excavationTruckHours').textContent = excavationTruckHours;
            document.getElementById('excavationTrucks').textContent = excavationTrucks;

            console.log('All calculations completed successfully!');
        }

        function resetForm() {
            const inputs = document.querySelectorAll('input[type="number"]');
            inputs.forEach(input => input.value = '');
            
            const selects = document.querySelectorAll('select');
            selects.forEach(select => select.selectedIndex = 0);
            
            const outputs = document.querySelectorAll('span[id$="Tons"], span[id$="Days"], span[id$="Hours"], span[id$="Trucks"], span[id$="Volume"]');
            outputs.forEach(output => output.textContent = '0');
        }
    </script>
</body>
</html>
